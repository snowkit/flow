{
  "name": "json-gate",
  "description": "A friendly, fast JSON schema validator",
  "version": "0.8.21",
  "author": {
    "name": "Ofer Reichman",
    "email": "oferei@gmail.com"
  },
  "contributors": [
    {
      "name": "Ofer Reichman",
      "email": "oferei@gmail.com"
    },
    {
      "name": "Jesse Thompson"
    },
    {
      "name": "Nicolas Pelletier"
    },
    {
      "name": "Damien",
      "url": "feugy"
    }
  ],
  "repository": {
    "type": "git",
    "url": "https://github.com/oferei/json-gate.git"
  },
  "bugs": {
    "url": "https://github.com/oferei/json-gate/issues"
  },
  "dependencies": {},
  "keywords": [
    "json",
    "schema",
    "validator",
    "validate",
    "assert"
  ],
  "main": "lib/json-gate.js",
  "scripts": {
    "test": "vows --spec"
  },
  "devDependencies": {
    "should": "*",
    "vows": "*",
    "JSV": "*"
  },
  "engines": {
    "node": "*"
  },
  "licenses": [
    {
      "type": "MIT",
      "url": "https://raw.github.com/oferei/json-gate/master/LICENSE"
    }
  ],
  "readme": "# json-gate\r\n\r\n_json-gate_ validates JSON objects against a JSON schema.\r\nIn other words, it makes sure an object conforms to the type and structure that your code expects.\r\nFor example, a server can use it to ensure input received from a client conforms to the API.\r\n\r\nThe JSON schema can also help with documentation and collaboration.\r\nCopy it to your API document and everybody should understand exactly what is expected.\r\n\r\n_json-gate_ likes you! It is...\r\n\r\n* Intuitive - API is super easy to use.\r\n* Produces human-friendly, detailed error messages - for both you and your customers.\r\n* Fast - Your CPU won't have time to blink.\r\n* Well documented, in case you don't feel like digging into the IETF specifications.\r\nJust keep reading, it's all here.\r\n* Conforms to standard - no relearning, no obligation, no surprises.\r\n* Both synchronous and asynchronous modes - your choice.\r\n\r\n## What's a JSON schema?\r\n\r\n[JSON Schema](http://json-schema.org/) is a proposed Internet draft defining a JSON media type (application/schema+json) with the following goals:\r\n\r\n* Validation - You can use JSON Schema to validate your JSON data.\r\n* Documentation - You can extract documentation information from a JSON Schema, match this documentation to your data, and use that information for user interaction.\r\n* Hyperlinking - You can pair your JSON data with the defining JSON Schema to build hyperlinks into parts of that JSON data.\r\n\r\n_json-gate_ supports most of [JSON Schema Draft 3](http://tools.ietf.org/html/draft-zyp-json-schema-03), minus the hyperlinking and hyper schema parts.\r\n\r\n## Example\r\n\r\n    var createSchema = require('json-gate').createSchema;\r\n\r\n    var schema = createSchema({\r\n    \ttype: 'object',\r\n    \tproperties: {\r\n    \t\tquery: {\r\n    \t\t\ttype: 'string',\r\n                minLength: 1,\r\n                maxLength: 64,\r\n    \t\t\trequired: true\r\n    \t\t},\r\n    \t\tmaxResults: {\r\n    \t\t\ttype: 'integer',\r\n    \t\t\tmaximum: 20,\r\n    \t\t\tdefault: 10\r\n    \t\t}\r\n    \t},\r\n        additionalProperties: false\r\n    });\r\n\r\n    try {\r\n        schema.validate(input);\r\n    } catch(err) {\r\n        return res.send(400, err); // 400 Bad Request\r\n    }\r\n\r\nThis schema is explained below in the _Hello, schema_ section.\r\n\r\n## Installation\r\n\r\n    $ npm install json-gate\r\n\r\n## Usage\r\n\r\n### _json-gate.createSchema_(jsonSchema)\r\n\r\nThis function gets a JSON Schema definition and returns a new _Schema_ object.\r\nIt verifies that the schema is valid.\r\nIf the latter is malformed an error will be thrown pinpointing the problem.\r\n\r\n### _Schema.validate_(jsonObject)\r\n\r\nThis function gets a JSON object and validates it against the schema.\r\nIf the JSON object does not conform to the schema an error will be thrown (or returned, see _Synchronous/Asynchronous_ below).\r\n\r\nThe functions stops after encountering an error. It does not return multiple errors.\r\nThe function does not return a value.\r\nBe aware that the input JSON object may be edited _in-place_ if the _default_ attribute is used.\r\n\r\n### Errors\r\n\r\nThe error messages are human-friendly and detailed.\r\nFor example: \"JSON object property 'user.password': length is 3 when it should be at least 6\".\r\nReady to be shrink-wrapped in a _400 Bad Request_ response and shipped to the client!\r\n\r\nEqualy helpful error message are produced in the case of a malformed schema, to assist you during development.\r\nFor example: \"Schema property 'num': 'exclusiveMaximum' attribute is a number when it should be a boolean\".\r\n\r\n### Synchronous/Asynchronous\r\n\r\n_Schema.validate_ can be called in two ways, to suit your needs:\r\n\r\n* Synchronously - as in the example above, with one parameter.\r\nAs already stated, it returns nothing if the object checks out. Otherwise it throws an error.\r\n* Asynchronously - by providing a 2nd parameter: a callback function.\r\nThe callback function gets two arguments: error and result (the original JSON object, which may be modified).\r\n\r\nIt should be noted that the JSON object passed to the callback function is the same as the input JSON object.\r\nIt is only passed for convenience.\r\nAny _default_ values used will affect the original JSON object, even when calling asynchronously.\r\n\r\n## Hello, schema\r\n\r\nA _JSON schema_ is defined as a JavaScript object containing various _attributes_.\r\n\r\nLet's start by analyzing the schema given in the example above.\r\n\r\n* The JSON object should be an object (as opposed to an array).\r\n* It should have a property named _query_, which should be a string with 1 to 64 characters.\r\n* It may optionaly have a property named _maxResults_, which should be an integer with a maximum value of 20.\r\n* If _maxResults_ is missing, it will be generated with a value of 10.\r\n* Additional properties (other than _query_ and _maxResults_) are not allowed.\r\n\r\nJSON Schema properties can be nested: objects and arrays include other attributes, which may be objects and arrays.\r\nNotice that objects properties are unordered, whereas array items are ordered.\r\n\r\nSee Attributes section below to learn about more possibilities.\r\n\r\n## Attributes\r\n\r\nBelow are all the supported attributes.\r\n\r\nTerminology: in this section, *instance* refers to a JSON value (object or property) that the schema will be describing and validating.\r\n\r\n### type\r\n\r\nDefines the expected instance type.\r\nIt can take one of two forms:\r\n\r\n* Simple type - any of the following: 'string', 'number', 'integer', 'boolean', 'object', 'array', 'null' or 'any'.\r\n* Union type - an array of simple types and/or schemas. The instance type should be one of the types in the array.\r\n\r\nExample - instance should be either a string or null:\r\n\r\n    type: ['string', 'null']\r\n\r\nThe default is 'any'.\r\n\r\n### disallow\r\n\r\nDefines the disallowed instance type. This is the opposite of _type_.\r\nIt can take one of two forms:\r\n\r\n* Simple type - any of the following: 'string', 'number', 'integer', 'boolean', 'object', 'array', 'null' or 'any'.\r\n* Union type - an array of simple types and/or schemas. The instance type should not be any of the types in the array.\r\nFor example, if _type_ is ['string', 'null'] then the instance may be neither a string nor null.\r\n\r\n### required\r\n\r\nA boolean indicating whether an instance is mandatory (true) or optional (false).\r\n\r\nExample with a mandatory property and an optional one:\r\n\r\n    {\r\n        type: 'object',\r\n        properties: {\r\n            query: {\r\n                type: 'string',\r\n                required: true\r\n            },\r\n            safeSearch: {\r\n                type: 'string',\r\n                enum: ['off', 'moderate', 'strict']\r\n            }\r\n        }\r\n    }\r\n\r\nThe default is false (optional).\r\n\r\n### default\r\n\r\nDefines the default value of the instance when the instance is undefined.\r\n\r\nExample:\r\n\r\n    maxResults: {\r\n        type: 'integer',\r\n        default: 10\r\n    }\r\n\r\nThe JSON object is edited in-place.\r\nIn other words, the default values are set to the original JSON object, not a returned copy.\r\n\r\n### enum\r\n\r\nAn array containing all possible values.\r\nThe instance must equal one of the values.\r\n\r\nExample:\r\n\r\n    enum: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\r\n\r\n### properties\r\n\r\nApplies only to instances of type `'object'`.\r\n\r\nDefines the properties of the instance object.\r\nThe _properties_ attribute is an object, matching properties to their valid schema.\r\n\r\nExample:\r\n\r\n    {\r\n        type: 'object',\r\n        properties: {\r\n            name: { type: 'string' },\r\n            age: { type: 'integer' }\r\n        }\r\n    }\r\n\r\nThe default is an empty object.\r\n\r\nNote: Properties are considered unordered, the order of the instance properties may be in any order.\r\n\r\n### patternProperties\r\n\r\nApplies only to instances of type `'object'`.\r\n\r\nThis attribute is similar to the _properties_ attribute, but the keys are regular expression patterns instead of property names.\r\nAny instance property whose name fits a pattern must be valid against the appropriate schema.\r\n\r\nExample:\r\n\r\n    {\r\n        type: 'object',\r\n        properties: {\r\n            '^sz': { type: 'string' },\r\n            '^n': { type: 'number' },\r\n            '^b': { type: 'boolean' }\r\n        }\r\n    }\r\n\r\nNote that using this attribute may cause instances to be validated more than once:\r\n\r\n* If a property name is defined by _properties_ and also matches a pattern in _patternProperties_.\r\n* If a property name matches more than one pattern in _patternProperties_.\r\n\r\n### additionalProperties\r\n\r\nApplies only to instances of type `'object'`.\r\n\r\nDefines a schema for all properties that are not explicitly defined by _properties_ and do not match any pattern in _patternProperties_.\r\nIt can take one of two forms:\r\n\r\n* Schema - all the additional properties must be valid against the schema.\r\n* False - additional properties are not allowed.\r\n\r\nExample:\r\n\r\n    {\r\n        type: 'object',\r\n        properties: {\r\n            id: 'integer',\r\n            name: 'string'\r\n        },\r\n        patternProperties: {\r\n            '^_debug': { type: 'any' }\r\n        },\r\n        additionalProperties: false\r\n    }\r\n\r\nThe default is an empty schema, which allows any value for additional properties.\r\n\r\n### dependencies\r\n\r\nApplies only to instances of type `'object'`.\r\n\r\nThis attribute is an object, matching properties to their requirements.\r\nIf the instance object has a property with the same name as a property in the _dependencies_ attribute object,\r\nthen the instance must comply with the requirement.\r\n\r\nThe requirement can take one of three forms:\r\n\r\n* Simple dependency - a string.\r\nThe instance object must have a property with the same name as the requirement.\r\nExample: `dependencies: { start: 'finish' }`.\r\nMeans that if an instance has a property 'start', it must also have a property 'finish'.\r\n* Simple dependency tuple - an array of strings.\r\nThe instance object must have a property with the same name as each string in the requirement's array.\r\nExample: `dependencies: { towel: [ 'toothbrush', 'soap', 'space suit' ]}`.\r\nMeans that if an instance has a property 'towel', it must also have properties 'toothbrush', 'soap' and 'space suit'.\r\n* Schema dependency - a schema.\r\nThe instance object must be valid against the schema.\r\nExample: `dependencies: { 'cuba-libre': { properties: { glass: { format: 'highball', required: true }}}}`\r\nMeans that if an instance has a property 'cuba-libre', it must also have a property 'glass' with a 'highball' format.\r\n\r\n### items\r\n\r\nApplies only to instances of type `'array'`.\r\n\r\nDefines the items of the instance array.\r\nIt can take one of two forms:\r\n\r\n* Schema - all the items in the array must be valid against the schema.\r\n* Tuple typing - an array of schemas.\r\nEach position in the instance array must conform to the schema in the corresponding position for this array.\r\nThe instance array is not required to contain all defined items.\r\nAdditional items are allowed, disallowed, or constrained by the _additionalItems_ attribute.\r\n\r\n### additionalItems\r\n\r\nApplies only to instances of type `'array'`, and only together with the _tuple typing_ form of the _items_ attribute.\r\n\r\n_additionalItems_ defines the behavior when there are more items in the instance array than in the _items_ array.\r\nIt can take one of two forms:\r\n\r\n* Schema - all the additional items must be valid against the schema.\r\n* False - additional items are not allowed.\r\n\r\nExample - a string, an integer and the rest are booleans:\r\n\r\n    {\r\n        type: 'array',\r\n        items: [\r\n            { type: 'string' },\r\n            { type: 'integer' }\r\n        ],\r\n        additionalItems: { type: 'boolean' }\r\n    }\r\n\r\nThe default is an empty schema, which allows additional items of any type.\r\n\r\n### minItems\r\n\r\nApplies only to instances of type `'array'`.\r\n\r\nDefines the minimum number of values in an array.\r\n\r\n### maxItems\r\n\r\nApplies only to instances of type `'array'`.\r\n\r\nDefines the maximum number of values in an array.\r\n\r\n### uniqueItems\r\n\r\nApplies only to instances of type `'array'`.\r\n\r\nA boolean that indicates whether all items in the array instance must be unique (contains no two identical values).\r\n\r\n### minLength\r\n\r\nApplies only to instances of type `'string'`.\r\n\r\nDefines the minimum length of the string.\r\n\r\n### maxLength\r\n\r\nApplies only to instances of type `'string'`.\r\n\r\nDefines the maximum length of the string.\r\n\r\n### pattern\r\n\r\nApplies only to instances of type `'string'`.\r\n\r\nA string containing a regular expression.\r\nThe instance string must match it.\r\n\r\nExample:\r\n\r\n    youtubeVideoId: {\r\n        type: 'string',\r\n        pattern: '^[A-Za-z0-9_-]{11}$'\r\n    }\r\n\r\n### minimum\r\n\r\nApplies only to instances of type `'number'`.\r\n\r\nDefines the minimum value of the instance property.\r\n\r\n### exclusiveMinimum\r\n\r\nApplies only to instances of type `'number'`, and only together with the _minimum_ attribute.\r\n\r\nDefines the behavior of the _minimum_ attribute:\r\n\r\n* when true, _minimum_ is exclusive (\"greater than\")\r\n* when false, _minimum_ is inclusive (\"greater than or equal\")\r\n\r\nExample:\r\n\r\n    rand: {\r\n        type: 'number',\r\n        minimum: 0,\r\n        exclusiveMinimum: false,\r\n        maximum: 1,\r\n        exclusiveMaximum: true\r\n    }\r\n\r\nThe default is false.\r\n\r\n### maximum\r\n\r\nApplies only to instances of type `'number'`.\r\n\r\nDefines the maximum value of the instance property.\r\n\r\n### exclusiveMaximum\r\n\r\nApplies only to instances of type `'number'`, and only together with the _maximum_ attribute.\r\n\r\nDefines the behavior of the _maximum_ attribute:\r\n\r\n* when true, _maximum_ is exclusive (\"less than\")\r\n* when false, _maximum_ is inclusive (\"less than or equal\")\r\n\r\nExample:\r\n\r\n    rand: {\r\n        type: 'number',\r\n        minimum: 0,\r\n        exclusiveMinimum: false,\r\n        maximum: 1,\r\n        exclusiveMaximum: true\r\n    }\r\n\r\nThe default is false.\r\n\r\n### divisibleBy\r\n\r\nApplies only to instances of type `'number'`.\r\n\r\nDefines what value the number instance must be divisible by with no remainder.\r\nThis value may not be 0.\r\n\r\n### format\r\n\r\nApplies only to instances of types `'string'` or `'number'`.\r\n\r\nDefines the expected instance format.\r\n\r\nAvailable formats:\r\n\r\n* date-time - A string containing a date in ISO 8601 format of YYYY-MM-DDThh:mm:ss[.fraction]Z in UTC time.\r\nThe decimal fraction is optional and the decimal dot can be replaced with a comma.\r\nExample: `'2012-11-06T09:13:24Z'`.\r\n* date - A string containing a date in the format of YYYY-MM-DD.\r\nExample: `'2012-11-06'`.\r\n* time - A string containing a time in the format of hh:mm:ss.\r\nExample: `'09:13:24'`.\r\n* utc-millisec - A number or an integer containing the number of milliseconds that have elapsed since midnight UTC, 1 January 1970.\r\n* regex - A string containing a regular expression, following the regular expression specification from ECMA 262.\r\nExample: `'^[0-9]{5}-[0-9]{4}$'`.\r\n* color - A string containing a CSS color, based on CSS 2.1 [W3C.CR-CSS21-20070719].\r\nExamples: `'red'`, `'#FF9900'`, `'f90'`, `'rgb(64, 224, 208)'`, `'rgb(100%, 0%, 25%)'`.\r\n* phone - A string containing a national or international phone number, based on E.123.\r\nNo hypens allows, only spaces.\r\nExamples: `'(42) 123 4567'`, `'+31 42 123 4567'`.\r\n* uri - A string containing a URI.\r\nExample: `'https://github.com/oferei/json-gate'`.\r\n* email - A string containing an email address.\r\nExample: `'thepope@gmail.com'`.\r\n* ip-address - A string containing an ip version 4 address.\r\nExample: `'192.168.1.1'`.\r\n* ipv6 - A string containing an ip version 6 address.\r\nExample: `'2001:0db8:85a3:0042:0000:8a2e:0370:7334'`.\r\n* host-name - A string containing a host-name.\r\nExample: `'github.com'`.\r\n\r\nNote: Unknown formats are silently ignored.\r\n\r\n### title\r\n\r\nA string that provides a short description of instance property.\r\n\r\nIt allows to document the JSON schema.\r\nIt has no effect on the validation process.\r\n\r\nExample:\r\n\r\n    postalPlusFourCode: {\r\n        title: 'ZIP+4 code',\r\n        description: 'Zip+4 code: 5 digits dash 4 digits',\r\n        type: 'string',\r\n        pattern: '^[0-9]{5}-[0-9]{4}$'\r\n    }\r\n\r\n### description\r\n\r\nA string that provides a full description of the purpose of the instance property.\r\n\r\nIt allows to document the JSON schema.\r\nIt has no effect on the validation process.\r\n\r\nExample:\r\n\r\n    {\r\n        description: 'A person',\r\n        type: 'object',\r\n        properties: {\r\n            name: { type: 'string' },\r\n            age: { type: 'integer' }\r\n        }\r\n    }\r\n\r\n## License\r\n\r\n(The MIT License)\r\n\r\nCopyright (c) 2012 Ofer Reichman\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining\r\na copy of this software and associated documentation files (the\r\n'Software'), to deal in the Software without restriction, including\r\nwithout limitation the rights to use, copy, modify, merge, publish,\r\ndistribute, sublicense, and/or sell copies of the Software, and to\r\npermit persons to whom the Software is furnished to do so, subject to\r\nthe following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be\r\nincluded in all copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\r\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n",
  "readmeFilename": "README.md",
  "homepage": "https://github.com/oferei/json-gate",
  "_id": "json-gate@0.8.21",
  "_shasum": "a53aa27f92c1e545e5d59e371853e6d6a25ef557",
  "_from": "json-gate@latest",
  "_resolved": "https://registry.npmjs.org/json-gate/-/json-gate-0.8.21.tgz"
}
